# TREXIMA v4.0 - SAP BTP Cloud Foundry Deployment Manifest
---
applications:
- name: trexima-v4
  memory: 1G
  disk_quota: 2G
  instances: 1
  buildpacks:
    - python_buildpack
  command: gunicorn --bind 0.0.0.0:$PORT --worker-class eventlet --workers 1 --timeout 300 'trexima.web.app:create_app()'
  health-check-type: http
  health-check-http-endpoint: /api/health
  timeout: 180
  env:
    FLASK_ENV: production
    PYTHONUNBUFFERED: true
    WEB_CONCURRENCY: 4
    MAX_CONTENT_LENGTH: 104857600
    APP_NAME: TREXIMA v4.0
    VERSION: 4.0.0
    SESSION_TYPE: filesystem
    PERMANENT_SESSION_LIFETIME: 3600
    CORS_ORIGINS: "*"
  services:
    - trexima-postgres
    - trexima-objectstore
    - trexima-xsuaa
